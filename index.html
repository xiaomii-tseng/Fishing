<!doctype html>
<html lang="en">

<head>
    <title>釣魚</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
    <link rel="stylesheet" href="main.css">
    <link rel="icon" type="image/png" href="images/icons/icon-192.png">

    <!-- PWA -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#4db8ff" />
    <link rel="apple-touch-icon" href="images/icons/icon-192.png" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100..900&display=swap" rel="stylesheet">
</head>

<body>
    <div class="game-container">

        <!-- 背景圖片 -->
        <img src="images/index/index3.PNG" alt="釣魚背景" class="game-background" />

        <!-- 金幣顯示 -->
        <div class="coin-box d-flex align-items-center">
            <img src="images/icons/coin.png" alt="金幣圖示" class="coin-icon">
            <span id="coinCount">0</span>
        </div>
        <!-- 模式切換按鈕 -->
        <div class="mode-toggle">
            <button id="toggleModeBtn" class="mode-btn fnc-anm">自動模式</button>
        </div>
        <!-- 釣魚中 -->
        <div id="fishingStatus" class="fishing-status">自動釣魚中...</div>
        <!-- 釣魚訊息 -->
        <div id="bottomInfo" class="bottom-info"></div>

        <!-- 底部功能列 -->
        <div class="bottom-menu d-flex justify-content-around">
            <button class="fnc-btn fnc-anm" id="openEquip">
                <img src="images/icons/equip.png" alt="裝備" class="icon" />
                <div>裝備</div>
            </button>

            <button class="fnc-btn fnc-anm" id="openBackpack">
                <img src="images/icons/backpack.png" alt="背包" class="icon" />
                <div>背包</div>
            </button>

            <button class="fnc-btn fnc-anm" id="openShop">
                <img src="images/icons/shop.png" alt="商店" class="icon" />
                <div>商店</div>
            </button>
        </div>

        <!-- 手動釣魚精度條 UI：初始隱藏在畫面中央 -->
        <div id="precisionBarContainer" class="precision-bar-container" style="display: none;">
            <!-- 精度條槽 -->
            <div id="precisionTrack" class="precision-track">
                <div id="precisionIndicator" class="precision-indicator"></div>
            </div>
            <!-- 停止按鈕 -->
            <button id="precisionStopBtn" class="precision-stop-btn heartbeat">停止</button>
        </div>
    </div>

    <!-- 背包 -->
    <div class="modal fade" id="backpackModal" tabindex="-1" aria-labelledby="backpackModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content backpack-modal">
                <div class="modal-header">
                    <h5 class="modal-title" id="backpackModalLabel">釣魚背包</h5>
                    <div class="sort-controls text-center mt-1 ms-4">
                        <select id="sortSelect" class="form-select form-select-sm w-auto d-inline-block">
                            <option value="asc" selected>價格由低到高</option>
                            <option value="desc">價格由高到低</option>
                        </select>
                    </div>
                    <button type="button" class="btn-close btn-close-dark" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div id="inventory">
                        <div class="inventory">
                            載入中...
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 🐟 賣魚對話框 -->
    <div class="modal fade" id="sellModal" tabindex="-1" aria-labelledby="sellModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered custom-modal-width mx-auto">
            <div class="modal-content sell-modal">
                <div class="modal-header">
                    <h5 class="modal-title" id="sellFishName">販售：？？</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="關閉"></button>
                </div>
                <div class="modal-body">
                    <div class="">
                        <strong>尺寸：</strong>
                        <span id="sellQuantity"></span>
                    </div>
                    <div class="mt-3">
                        <strong>金額：</strong>
                        <span id="sellTotal">0 G</span>
                    </div>
                </div>
                <div class="modal-footer d-flex justify-content-center">
                    <button id="confirmSell" class="sell-btn fnc-anm">確認販售</button>
                </div>
            </div>
        </div>
    </div>

    

    <script src="main.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
</body>

</html>